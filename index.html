<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Touhou Little Maid</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Touhou Little Maidのアドオン">
<style>
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #mainimg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -9999999;
    background: url(./background.jpg) no-repeat center center/cover;
    transition: opacity 1s ease-in-out; /* フェードイン用のトランジション */
  }

  .text-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    z-index: 2;
  }

  .text {
    font-size: 2rem;
    margin-bottom: 20px;
    opacity: 0;
    animation-duration: 1s;
    animation-fill-mode: forwards;
    font-family: 'Sawarabi Mincho', sans-serif; /* カワイイフォントの適用 */
    color: #ff69b4; /* ピンク色 */
    text-shadow: 0 0 10px rgba(255, 105, 180, 0.8); /* テキストの影 */
  }

  /* フェードインアニメーション */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* 光るアニメーション */
  @keyframes shine {
    0% {
      opacity: 0.5;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }
    50% {
      opacity: 1;
      text-shadow: 0 0 20px rgba(255, 255, 255, 1);
    }
    100% {
      opacity: 0.5;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }
  }
</style>
</head>

<body>
<div id="mainimg"></div>
<div class="text-container"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const mainImgDiv = document.getElementById('mainimg');
  const textContainer = document.querySelector('.text-container');

  const texts = [
    'テキスト1: 貴方の恋人になりたい',
    'テキスト2: 知らなくても大丈夫',
    'テキスト3: すれ違いの始まりはささくれみたい',
    'テキスト4: 恋に落ちている',
    'テキスト5: こっちを見てよ！',
    'テキスト6: 恋に落ちている',
    'テキスト7: 恋に落ちている',
    'テキスト8: チョコより甘い温度で溶ける'
  ];

  let index = 0;
  let currentText = null;

  // #mainimg要素がクリックされたときの処理
  mainImgDiv.addEventListener('click', function() {
    // #mainimg要素を非表示にする
 //   mainImgDiv.style.display = 'none';
    // テキストアニメーションを開始する関数を呼び出す
    startTextAnimation();
  });

// テキストを順番に表示する関数
function startTextAnimation() {
  // 前のテキストがあれば削除する
  if (currentText && textContainer.contains(currentText)) {
    textContainer.removeChild(currentText);
  }

  // テキストが配列の範囲内であれば
  if (index < texts.length) {
    // 新しいテキスト要素を作成する
    const textElement = document.createElement('div');
    textElement.classList.add('text'); // .textクラスを追加する
    textElement.textContent = texts[index]; // テキストコンテンツを設定する
    textContainer.appendChild(textElement); // .text-containerにテキスト要素を追加する
    applyAnimation(textElement); // テキストにアニメーションを適用する
    currentText = textElement; // 現在のテキスト要素を更新する
    index++; // インデックスをインクリメントする
  }
}
  

  // テキストにフェードインと光るアニメーションを適用する関数
  function applyAnimation(element) {
    element.style.opacity = '1'; // テキスト要素の初期透明度を設定する
    element.classList.add('fade-in'); // .fade-inクラスを追加する

    // 100ミリ秒後に透明度を変更してフェードインする
    setTimeout(() => {
      element.style.opacity = '1';
      element.classList.add('shine'); // 光るアニメーションを追加する
    }, 100);

    // クリックされたらフェードインと光るアニメーションを解除して透明度を変更する
    element.addEventListener('click', function() {
      element.classList.remove('fade-in', 'shine');
      element.style.opacity = '0'; // テキスト要素を透明にする
      textContainer.removeChild(element); // テキスト要素を削除する
    });
  }
});
</script>

</body>
</html>
